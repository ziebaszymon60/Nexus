<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Nexus</title>
    <meta name="description" content="Your personal Nexus command center">
    <link rel="stylesheet" href="style.css?v=2.0">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">
</head>

<body>
    <div class="app">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="container">
                <a href="index.html" class="logo">
                    <span class="logo-icon">âš¡</span>
                    <span>Nexus</span>
                </a>
                <ul class="nav-links">
                    <li><button id="themeToggle" class="btn btn-ghost" style="font-size: 1.2rem;">ğŸŒ™</button></li>
                    <li><span id="userGreeting">Hi there!</span></li>
                    <li><button onclick="logout()" class="btn btn-ghost">Logout ğŸ‘‹</button></li>
                </ul>
            </div>
        </nav>

        <!-- Dashboard Content -->
        <section class="dashboard page-transition">
            <div class="container">
                <div class="dashboard-header" style="text-align: center;">
                    <div class="welcome-emoji">âš¡</div>
                    <h1 id="welcomeMessage">Welcome to Nexus!</h1>
                    <p>Your AI command center is ready. Let's create something amazing!</p>
                </div>

                <div class="dashboard-content">
                    <!-- Clock Widget -->
                    <div class="dashboard-card" style="text-align: center;">
                        <h3>â° Time</h3>
                        <p id="clock"
                            style="font-size: 2.5rem; font-weight: bold; color: var(--primary); margin: 10px 0;">
                            --:--:--</p>
                        <p>Seize the moment!</p>
                    </div>

                    <div class="dashboard-card">
                        <h3>ğŸ’¬ Start a Conversation</h3>
                        <p>Chat with Nexus AI and explore endless possibilities.</p>
                        <button class="btn btn-primary" style="margin-top: 16px;"
                            onclick="window.location.href='chat.html'">
                            Launch Chat
                        </button>
                    </div>

                    <div class="dashboard-card">
                        <h3>ğŸ“Š Your Stats</h3>
                        <p>Track your journey with Nexus!</p>
                        <ul style="margin-top: 16px; list-style: none;">
                            <li>âš¡ Status: <strong style="color: #10B981;">Connected</strong></li>
                            <li>ğŸš€ Energy Level: <strong>Maximum!</strong></li>
                        </ul>
                    </div>

                    <div class="dashboard-card">
                        <h3>ğŸ’¡ Daily Spark</h3>
                        <p id="dailyTip" style="font-style: italic; margin-top: 12px;">
                            "Innovation distinguishes between a leader and a follower."
                        </p>
                    </div>

                    <div class="dashboard-card">
                        <h3>âš™ï¸ Settings</h3>
                        <p>Customize your Nexus experience.</p>
                        <button class="btn btn-secondary" style="margin-top: 16px;"
                            onclick="alert('Settings coming soon! âš™ï¸')">
                            Open Settings
                        </button>
                    </div>

                    <!-- Build your rocket 3D Card -->
                    <div class="dashboard-card"
                        style="border: 1px solid var(--primary); background: linear-gradient(135deg, rgba(124, 58, 237, 0.1) 0%, rgba(255, 255, 255, 0) 100%);">
                        <h3>ğŸš€ Build your rocket 3D</h3>
                        <p>Design, build, and fly your own custom spacecraft.</p>
                        <button class="btn btn-primary" style="margin-top: 16px; width: 100%;"
                            onclick="window.location.href='builder.html'">
                            Start Building ğŸ› ï¸
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p>Powered by <span class="footer-heart">âš¡</span> Nexus AI</p>
            </div>
        </footer>
    </div>

    <script src="app.js?v=2.0"></script>
    <script>
        // Check if user is logged in
        const currentUser = Nexus.getCurrentUser();
        // Allow mock google login which sets isLogin=true but might not have full user object
        // So we relax checks slightly or ensure app.js mock returns a dummy name
        if (!currentUser && !sessionStorage.getItem('nexus_session')) {
            // Double check session storage if localStorage failed (though app.js uses localStorage)
            // For simplicity, strict check:
            window.location.href = 'login.html';
        } else {
            const name = currentUser ? currentUser.name : 'Explorer';
            document.getElementById('userGreeting').textContent = `Hey, ${name}! âš¡`;
            document.getElementById('welcomeMessage').textContent = `Welcome back, ${name}!`;
        }

        // Init Clock
        Nexus.initClock('clock');

        // Random daily sparks
        const sparks = [
            "Innovation distinguishes between a leader and a follower. ğŸ’¡",
            "The future belongs to those who believe in the beauty of their dreams. âœ¨",
            "Every great idea starts with a spark of curiosity. âš¡",
            "Technology is best when it brings people together. ğŸ”—",
            "Dream big, start small, and scale fast! ğŸš€",
            "The only limit is your imagination. ğŸ§ "
        ];
        document.getElementById('dailyTip').textContent = `"${sparks[Math.floor(Math.random() * sparks.length)]}"`;

        function logout() {
            Nexus.logout();
            window.location.href = 'index.html';
        }
    </script>
</body>

</html>